
# **95-20-21 — Software Development Plan (SDP)**

### ECS Neural Network Subsystem (NN_ECS)

**Document ID**: 95-20-21-SDP
**Applies To**: Models A-101 → A-107
**Certification Target**: **DO-178C Level C**
**Version**: 1.0
**Status**: WORKING
**Last Updated**: 2025-11-19

---

# **1. Purpose**

The Software Development Plan (SDP) defines the **processes, lifecycle, standards, methods, artefacts, and responsibilities** necessary to develop the ECS Neural Network Subsystem (95-20-21 NN_ECS) in compliance with:

* **DO-178C Level C**
* **EASA SC-AI (Special Condition for AI)**
* **FAA AI Assurance**
* **ATA 95 Digital Product Passport (DPP)**
* **DO-331 (Model-Based Supplement)**
* **AMPEL360 OPT-IN Architecture & Documentation Governance**

This plan describes how requirements, design, neural network training, implementation, verification, configuration management, and certification artifacts are created, traced, reviewed, and approved.

---

# **2. System Scope**

The SDP applies to the following NN-based ECS components:

| Model ID | Function                    |
| -------- | --------------------------- |
| A-101    | Cabin Temperature Predictor |
| A-102    | Air Quality Monitor         |
| A-103    | HVAC Optimizer              |
| A-104    | Pressure Control NN         |
| A-105    | Humidity Manager            |
| A-107    | CO₂ Scrubbing Optimizer     |

The subsystem architecture is defined in:

* `95-20-21-A-001_ECS_NN_System_Architecture.md`
* `95-20-21-A-003_ECS_NN_Data_Flow_Diagram.md`
* `95-20-21-A-005_ECS_NN_Integration_Map.md`

Each model’s full metadata is defined in its **Model Card** under:
`ASSETS/Model_Cards/95-20-21-A-XXX_*.yaml`

---

# **3. Lifecycle Model**

Development follows a **hybrid lifecycle** combining:

### **3.1 DO-178C Traditional Software Lifecycle**

Aligned with DAL C:

* Requirements (SRS)
* Design (SDS)
* Code (SCS)
* Verification (SVP)
* Configuration Management (SCMP)
* Quality Assurance (SQAP)
* Certification Evidence (A-501 SAS + Bundle)

### **3.2 Neural Network / ML Lifecycle**

Aligned with ATA 95 DPP:

```
Data Acquisition → Data Validation → Training → Validation → Freezing (ONNX)
→ Verification & Safety Analysis → Integration → Deployment → Monitoring → Retraining
```

### **3.3 Model-Based Considerations (DO-331)**

The NN model is considered a **model element** in the sense of DO-331, where:

* The final object code is the ONNX file.
* The “model” is the training graph (TensorFlow/PyTorch).
* The wrapper code is traditional DO-178C code.

### **3.4 Formal Methods Support (DO-333)**

Formal reasoning is used for:

* Input validation logic
* Output envelope guarantees
* Safety-shell invariants

---

# **4. Development Standards**

The subsystem adheres to:

| Standard               | Document                       |
| ---------------------- | ------------------------------ |
| Requirements Standard  | `95-20-21-SRS.md`              |
| Design Standard        | `95-20-21-SDS.md`              |
| Coding Standard        | `95-20-21-SCS.md`              |
| Documentation Standard | OPT-IN / ATA 95 metadata rules |

Every artefact must:

* Include document-control metadata
* Include cross-references and hyperlinks
* Identify AI assistance prompted by *Amedeo Pelliccia*
* Conform to the ATA-95 14-folder lifecycle skeleton

---

# **5. Requirements Development**

### **5.1 High-Level Requirements (HLRs)**

Defined in:

* `95-20-21-SRS.md`

Sources:

* ECS system requirements (ATA-21)
* Aircraft-level environmental requirements
* Safety analysis (FHA, PSSA)
* NN constraints (accuracy, latency, confidence)
* Certification constraints (bounded outputs, fallback)

### **5.2 Low-Level Requirements (LLRs)**

Cover:

* Input validation
* Pre/post-processing
* Output clipping
* Confidence & anomaly detection
* Deterministic behaviour
* Fallback activation

LLRs ensure the NN is encapsulated in a **DAL C safety shell**.

### **5.3 Traceability**

Maintained in:

`TRACE/95-20-21-TRACE.csv`

Linking:

```
HLR → LLR → Code → ONNX → Test Case → Verification Result → Certification Evidence
```

---

# **6. Software Design**

Software design follows the **SDS** and includes:

### **6.1 ECS NN Subsystem Architecture**

* IMA partition layout (ARINC-653)
* NN wrappers (A-101 → A-107)
* Input pipeline
* Output safety envelopes
* Fallback system
* Model-to-model interactions (A-101+A-102 feeding A-103)

### **6.2 Deterministic Execution**

All wrappers must ensure:

* No dynamic shapes
* No stochastic behaviour at inference
* No external calls
* Bounded execution time
* Deterministic caching

### **6.3 ONNX Deployment Design**

* Compliance with ONNX OpSet 17
* ONNX Runtime with restricted operators
* Memory budget compliance

---

# **7. Implementation**

Implementation is split:

### **7.1 Traditional Code**

Stored under:
`Models/Source/*.py`

Includes:

* Input preprocessing
* Output envelope logic
* Fallback state machine
* Deterministic wrapper
* Logging interface (ATA-31 compatible)

### **7.2 Neural Network Models**

Stored under:
`Models/Trained/*.onnx`

Each ONNX model is:

* versioned
* hashed
* inspected
* verified
* tied to a Model Card
* tied to a dataset version
* tied to a training configuration

### **7.3 Training Code**

Stored under:

`Models/Training/*.py`
`Models/Configs/*.yaml`

Not part of aircraft software, but under CM per DO-200B data rules.

---

# **8. Integration**

### **8.1 IMA Integration**

Integration into partition 95-20-42 includes:

* ONNX Runtime integration
* Scheduling parameters
* IPC with classical ECS controller
* BIT tests

### **8.2 ECS System Integration**

Wrappers interact with:

* ECS Sensors (ATA-21)
* Classical ECS Controller
* System monitor
* Recording system (ATA-31)

### **8.3 Multi-NN Integration**

E.g.:

* A-101 temperature predictions
* A-102 AQI classification
* A-105 humidity forecasts
* A-107 CO₂ scrubber efficiency

→ feed **A-103 HVAC Optimizer**

---

# **9. Verification (summary)**

Full details in SVP (`95-20-21-SVP.md`).

Verification includes:

* Requirements-based tests
* Robustness tests
* Safety tests
* Scenario tests (Digital Twin)
* Performance & timing tests
* ONNX structure tests
* Dataset QC testing
* Coverage analysis (MC/DC for wrappers only)

---

# **10. Tools & Tool Qualification**

Tools under DO-330 considerations:

| Tool                     | Purpose                      | Qualification     |
| ------------------------ | ---------------------------- | ----------------- |
| ONNX Runtime             | Operational inference engine | Validation-by-use |
| tf2onnx / torch exporter | Conversion                   | No                |
| pytest                   | Verification                 | No                |
| Synthetic Data Generator | Dataset CI                   | No                |
| doc-meta-enforcer        | Documentation assurance      | No                |

---

# **11. SCM & Baselines**

Software Configuration Management follows SCMP (`95-20-21-SCMP.md`):

### **11.1 Baselines**

* Development Baseline
* Integration Baseline
* Certification Baseline

### **11.2 Release Bundles**

Published in:

`cd/publications/ECS_NN_Release_x.y.z/`

Bundle includes:

* ONNX models
* Model cards
* Tests & reports
* Coverage
* Safety analyses
* Certification evidence (PSAC, SCMP, SQAP, SVP, SDP, SRS, SDS, SCS, SAS)
* DPP export

---

# **12. Quality Assurance**

QA performs:

* Independent audits
* Document inspections
* CI validation
* Dataset integrity review
* Model card compliance checks
* ONNX runtime structure validation

All described in:
`95-20-21-SQAP.md`

---

# **13. Problem Reporting & Corrective Actions**

All issues recorded as:

`Certification/PR_95-20-21_XXX.md`

Each PR requires:

* Description
* Classification
* Root cause
* Corrective plan
* Regression evidence
* QA sign-off
* CCB approval (if significant)

---

# **14. Deliverables**

| Deliverable          | Location              |
| -------------------- | --------------------- |
| SRS                  | 95-20-21-SRS.md       |
| SDS                  | 95-20-21-SDS.md       |
| SCS                  | 95-20-21-SCS.md       |
| Training Configs     | Models/Configs/       |
| Model Cards          | ASSETS/Model_Cards/   |
| ONNX Artefacts       | Models/Trained/       |
| Verification Reports | ASSETS/Reports/       |
| FCA/PCA Logs         | Certification/Audits/ |
| SAS                  | 95-20-21-SAS.md       |

---

# **15. Document Control**

* **Document ID**: 95-20-21-SDP
* **Version**: 1.0
* **Status**: WORKING
* **Author**: AMPEL360 ML Engineering Team
* **AI Assistance**: ChatGPT + GitHub Copilot
* **Prompted by**: *Amedeo Pelliccia*
* **Review Required**: Certification Authority

---

