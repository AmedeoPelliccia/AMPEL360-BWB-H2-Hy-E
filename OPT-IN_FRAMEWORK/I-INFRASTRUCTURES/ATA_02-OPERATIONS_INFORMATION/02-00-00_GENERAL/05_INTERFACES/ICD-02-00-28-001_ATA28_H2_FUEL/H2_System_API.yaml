---
interface_id: ICD-02-00-28-001
version: 1.0.0
status: Active
protocol: ARINC 664 Part 7

network:
  type: AFDX
  redundancy: Dual
  bandwidth: 100 Mbps
  latency_target: 10 ms (critical), 100 ms (non-critical)

message_definitions:
  H2_FUEL_STATUS:
    message_id: 0x2801
    priority: High
    rate_hz: 1
    size_bytes: 256
    fields:
      timestamp:
        type: uint64
        unit: microseconds
        description: System time in microseconds since boot
      
      total_quantity_kg:
        type: float32
        unit: kg
        range: [0, 8000]
        accuracy: 50
        description: Total H2 fuel remaining
      
      tanks:
        type: array
        count: 4
        element:
          tank_id:
            type: string
            length: 16
          quantity_kg:
            type: float32
            unit: kg
            range: [0, 2500]
          temperature_c:
            type: float32
            unit: celsius
            range: [-260, -240]
          pressure_bar:
            type: float32
            unit: bar
            range: [0, 5]
          leak_detected:
            type: boolean
          leak_concentration_lel:
            type: float32
            unit: percent
            range: [0, 100]
          valve_position:
            type: enum
            values: [OPEN, CLOSED, MOVING, FAULT]
      
      flow_rate_kgh:
        type: float32
        unit: kg/hour
        range: [0, 200]
        description: Current fuel consumption rate
      
      system_health:
        type: enum
        values: [NORMAL, ADVISORY, CAUTION, WARNING, CRITICAL]
      
      fuel_remaining_minutes:
        type: uint16
        unit: minutes
        description: Estimated endurance at current flow rate

  H2_LEAK_ALERT:
    message_id: 0x2802
    priority: Critical
    rate_hz: 100
    size_bytes: 128
    fields:
      timestamp:
        type: uint64
        unit: microseconds
      
      alert_level:
        type: enum
        values: [ADVISORY, CAUTION, WARNING, CRITICAL]
      
      zone_id:
        type: string
        length: 32
        description: Affected zone identifier
      
      max_concentration_lel:
        type: float32
        unit: percent
        range: [0, 100]
      
      sensor_count_active:
        type: uint8
        description: Number of active sensors in zone
      
      sensor_count_total:
        type: uint8
        description: Total sensors installed in zone
      
      actions_taken:
        type: bitfield32
        bits:
          0: Isolation activated
          1: Ventilation increased
          2: Emergency vent activated
          3: Tank isolated
          4: Ground notified
          5: Crew alerted
      
      trend:
        type: enum
        values: [INCREASING, STABLE, DECREASING]

  H2_COMMAND:
    message_id: 0x2803
    priority: High
    size_bytes: 64
    fields:
      command_type:
        type: enum
        values: [TANK_SELECT, ISOLATE, TRANSFER, VENT, EMERGENCY_STOP]
      
      target_tank:
        type: string
        length: 16
      
      parameters:
        type: variant
        description: Command-specific parameters

  H2_EMERGENCY_STATUS:
    message_id: 0x2804
    priority: Critical
    rate_hz: 10
    size_bytes: 128
    fields:
      emergency_active:
        type: boolean
      
      emergency_type:
        type: enum
        values: [LEAK, OVERPRESSURE, FIRE, QUANTITY_LOSS, NONE]
      
      affected_zones:
        type: array
        count: 8
        element:
          type: string
          length: 16
      
      isolation_status:
        type: bitfield32
        bits:
          0: CTR-1 isolated
          1: CTR-2 isolated
          2: WING-L isolated
          3: WING-R isolated
          4: Feed line A isolated
          5: Feed line B isolated
      
      ventilation_mode:
        type: enum
        values: [NORMAL, ENHANCED, EMERGENCY_50ACH]
      
      fuel_cells_status:
        type: enum
        values: [NORMAL, DEGRADED, EMERGENCY, SHUTDOWN]

timing_requirements:
  fuel_quantity_update:
    rate: 1 Hz
    latency: 100 ms
    jitter: 10 ms
  
  temperature_pressure:
    rate: 10 Hz
    latency: 50 ms
    jitter: 5 ms
  
  leak_detection:
    rate: 100 Hz
    latency: 10 ms
    jitter: 1 ms
    alert_latency: 100 ms
  
  emergency_commands:
    response_time: 500 ms
    confirmation: 100 ms

fault_tolerance:
  message_loss:
    max_consecutive: 3
    action: Switch to backup system
  
  sensor_failure:
    detection_time: 5 seconds
    action: Use redundant sensor
    fallback: CAOS predictive model
  
  communication_failure:
    timeout: 1 second
    action: Display INVALID flag
    fallback: Last known good value + extrapolation

data_logging:
  flight_data_recorder:
    parameters:
      - total_quantity_kg
      - tank_quantities
      - temperatures
      - pressures
      - leak_status
      - system_health
    rate: 1 Hz
  
  quick_access_recorder:
    parameters:
      - All FDR parameters
      - leak_concentration
      - valve_positions
      - emergency_status
    rate: 10 Hz
  
  caos_database:
    all_parameters: true
    rate: As transmitted
    retention: Lifetime of aircraft

safety_integrity_level:
  leak_detection: ASIL-D (automotive) / DAL-A (aviation)
  emergency_isolation: DAL-A
  quantity_indication: DAL-B
  tank_sequencing: DAL-C

compliance:
  standards:
    - ARINC 664 Part 7
    - DO-178C (Software)
    - DO-254 (Hardware)
    - ISO 19881 (H2 systems)
    - SAE J2719 (H2 safety)
  
  verification:
    - Integration testing (lab)
    - Iron bird testing
    - Ground vehicle testing
    - Flight test validation

---
